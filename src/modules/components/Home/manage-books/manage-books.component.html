<div class="container-fluid" [ngClass]="{'padding':list.length==0}">
    <div class="card rahul-r mt-2" style="padding: 20px;">

        <div class="row bread">
            <div class="col-lg-6">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mt-2 " style="font-weight: 700;">
                        <li class="" style="margin-right: 10px;"><a class="a1"
                                >Library</a>
                        </li>
                        <li class="" style="margin-right: 10px; padding-top: 2px;">
                            <a><i class="bx bx-chevrons-right a1"></i> </a>
                        </li>
                        <li class="" aria-current="page">Manage Book</li>
                    </ol>
                </nav>
            </div>
            <div class="col-lg-6 text-end">
                <button (click)="onclick()" type="button" class="btn  btn-primary btn-02 btn-rounded">
                    {{ReadMore?"+ Add New":"- Hide"}}
                </button>
            </div>
        </div>


        <form [formGroup]="bookForm">
            @if (visible) {
            <div class="row mt-2">
                <div class="col-lg-4">
                    <div class="input-box active-grey">
                        
                        <label class="input-label">Book Name <span class="text-danger">*</span> </label>
                        <input type="text" id="ngTitle" class="input-1" formControlName="ngTitle" [ngClass]="{ 'is-invalid':(submitted || forms['ngTitle'].invalid && (forms['ngTitle'].dirty || forms['ngTitle'].touched))
                                                  &&forms['ngTitle'].errors?.['required'] }">

                        <div style="color: red;" *ngIf="(submitted || forms['ngTitle'].invalid && (forms['ngTitle'].dirty || forms['ngTitle'].touched) )
                                                  &&forms['ngTitle'].errors?.['required']">
                            Book name is required!
                        </div>
                    </div>

                </div>

                <div class="col-lg-4">
                    <div class="input-box active-grey">
                        <label class="input-label">Isbn <span class="text-danger">*</span> </label>
                        <input type="text" id="ngIsbn" class="input-1" formControlName="ngIsbn" [ngClass]="{ 'is-invalid':(submitted || forms['ngIsbn'].invalid && (forms['ngIsbn'].dirty || forms['ngIsbn'].touched))
                                                  &&forms['ngIsbn'].errors?.['required'] }">

                        <div style="color: red;" *ngIf="(submitted || forms['ngIsbn'].invalid && (forms['ngIsbn'].dirty || forms['ngIsbn'].touched) )
                                                  &&forms['ngIsbn'].errors?.['required']">
                            Isbn is required!
                        </div>
                    </div>

                </div>

                <div class="col-lg-4">
                    <div class="input-box active-grey">
                        <label class="input-label">Genre</label>
                        <input type="text" id="ngGenre" class="input-1" formControlName="ngGenre">

                    </div>

                </div>

                <div class="col-lg-4">
                    <div class="input-box active-grey">
                        <label class="input-label"> Publisher </label>
                        <input type="text" id="ngPublisher" class="input-1" formControlName="ngPublisher" >
                        
                    </div>

                </div>

                <div class="col-lg-3">
                    <div class="input-box active-grey">
                        <label class="input-label">Edition <span class="text-danger">*</span> </label>
                        <input type="text" id="ngEdition" class="input-1" formControlName="ngEdition" >

                    </div>

                </div>

                <div class="col-lg-2">
                    <div class="input-box active-grey">
                        <label class="input-label"> Availability <span class="text-danger">*</span> </label>
                        <input type="checkbox" id="ngAvailability" class="input-1" formControlName="ngAvailability" >

                    </div>

                </div>


              

                <div class="col-lg-2">
                    <button class="btn btn-primary btn-rounded btn-02" (click)="createFormSave()"> 
                        @if (!updateVendor) {
                            Create
                            }
                            @else {
                            Update
                            }
                    </button>
                    <button style="margin-left: 5px;" class="btn btn-secondary btn-rounded btn-02"
                        (click)="clearVendorDetail()">Clear
                    </button>
                </div>
            </div>
            }
        </form>

        <!-- <div *ngIf="list.length == 0" class="col-lg-12 mt-3 text-center text-danger">
            <h6> No Results Found </h6>
        </div> -->

        <div class="myDivToPrint mt-2">
            <div class="row mt-3 ">
                <div class=" table-responsive">
                    <div class="row mb-1  ">
                        <div class="col-lg-12 reslable1 text-end">
                            <label
                                style=" font-weight: 800; background-color: rgb(237, 236, 236); border-left: 5px solid #e53a01; padding: 10px;">
                                Total Records :
                                <span style="color: rgb(254, 36, 36);">{{list.length}} </span></label>
                        </div>
                    </div>

                    <table class="table table-striped table-hover" [ngClass]="{'dynamicScroll' : list.length>6 }">
                        <thead class="thead1">
                            <tr style="border: none;">
                               
                                <th>Book Name </th>
                                <th>Genre</th>
                                <th>Publisher</th>
                                <th>Availability</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if(list.length > 0){
                            @for (item of list; track item;let i=$index) {
                            <tr>
                                <td>{{ item?.title }}</td>
                                <td>{{ item?.genre }}</td>
                                <td>{{ item?.publisher }}</td>
                                <td>
                                    
                                    {{ item?.availability == true?'Yes':'No' }}
                                </td>
                                <td class="text-center">
                                    <i class="bi bi-pencil" (click)="editdata(item)"
                                        style="font-size: 20px; color: #0367a5; cursor: pointer; "></i>
                                    <!-- <i class="bi bi-trash3" (click)="deletedata(item?.productId)"
                                        style="font-size: 20px; margin-left: 3px; color: #a50303; cursor: pointer; "></i> -->
                                </td>
                            </tr>
                            }
                        }
                        @else {
                            <tr>
                                <td colspan="5" style="text-align: center;">No Results Found</td>
                            </tr>
                        }
                        </tbody>
                    </table>


                </div>
            </div>
        </div>
    </div>
</div>

<!--   
  <notifier-container></notifier-container> -->